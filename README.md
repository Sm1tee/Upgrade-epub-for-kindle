# EPUB Margin Reducer for Kindle

–ü—Ä–æ—Å—Ç–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø–æ–ª–µ–π –≤ EPUB –∫–Ω–∏–≥–∞—Ö, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ Kindle.

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

Kindle –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è —É–º–µ–Ω—å—à–∏—Ç—å —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –º–µ–Ω—å—à–µ —Ç–µ–∫—Å—Ç–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–æ –Ω–∞ –∫–æ–º–ø–∞–∫—Ç–Ω—ã—Ö –º–æ–¥–µ–ª—è—Ö Kindle.

## ‚ú® –†–µ—à–µ–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç CSS —Å—Ç–∏–ª–∏ –≤ EPUB —Ñ–∞–π–ª–∞—Ö, –¥–æ–±–∞–≤–ª—è—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞—Å—à–∏—Ä—è—é—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å –∑–∞ —Å—á–µ—Ç –ø–æ–ª–µ–π.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏
- ‚úÖ **–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏ –≤ –ø–∞–ø–∫–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ–ª—è** - –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ—Ç—Å—Ç—É–ø–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -20px)
- ‚úÖ **–£–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∞—Å–æ–∫** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ —à–∞–±–ª–æ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `*.epub`)
- ‚úÖ **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows, macOS, Linux

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.6 –∏–ª–∏ –≤—ã—à–µ
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python (zipfile, tempfile, pathlib)


## üîß –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤

1. **–°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç** `modify_epub_margins.py`
2. **–ü–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –ø–∞–ø–∫—É —Å –∫–Ω–∏–≥–∞–º–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `C:\Books\` –∏–ª–∏ `~/Downloads/Books/`)
3. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ:**
   - Windows: Shift + –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí "–û—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ PowerShell –∑–¥–µ—Å—å"
   - Linux: –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí "–û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –∑–¥–µ—Å—å"
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:**
   - Windows: `python modify_epub_margins.py`
   - Linux: `python3 modify_epub_margins.py`

–ì–æ—Ç–æ–≤–æ! –í—Å–µ .epub —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã.

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Windows (cmd/PowerShell)
```cmd
# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ .epub —Ñ–∞–π–ª—ã –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ
python modify_epub_margins.py

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
python modify_epub_margins.py "–ú–æ—è –∫–Ω–∏–≥–∞.epub"

# –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ—Ç—Å—Ç—É–ø–æ–≤ (–±—É–¥–µ—Ç -30px)
python modify_epub_margins.py --margin 30

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∞–π–ª—ã —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ (–±—É–¥–µ—Ç -15px)
python modify_epub_margins.py --margin 15 *.epub

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
python modify_epub_margins.py --help
```

### Linux/macOS (bash)
```bash
# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ .epub —Ñ–∞–π–ª—ã –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ
python3 modify_epub_margins.py

# –¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ —è–≤–Ω–æ
python3 modify_epub_margins.py --all

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
python3 modify_epub_margins.py "–ú–æ—è –∫–Ω–∏–≥–∞.epub"

# –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ—Ç—Å—Ç—É–ø–æ–≤ (–±—É–¥–µ—Ç -25px)
python3 modify_epub_margins.py --margin 25

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ (–±—É–¥–µ—Ç -15px)
python3 modify_epub_margins.py --margin 15 book1.epub book2.epub

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞—Å–∫–∏
python3 modify_epub_margins.py "–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä"*.epub
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°–∫—Ä–∏–ø—Ç –≤ –ø–∞–ø–∫–µ —Å –∫–Ω–∏–≥–∞–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```cmd
# Windows - –≤—Å–µ –∫–Ω–∏–≥–∏ –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ
python modify_epub_margins.py

# Linux - –≤—Å–µ –∫–Ω–∏–≥–∏ –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ  
python3 modify_epub_margins.py
```

**–°–∫—Ä–∏–ø—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ - —É–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω—ã–µ –ø—É—Ç–∏:**
```cmd
# Windows - –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∫–Ω–∏–≥–µ
python modify_epub_margins.py "C:\Users\Username\Downloads\Books\–ú–æ—è –∫–Ω–∏–≥–∞.epub"

# Windows - –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –∫–Ω–∏–≥–∞–º–∏
python modify_epub_margins.py "C:\Users\Username\Downloads\Books\*.epub"
```

```bash
# Linux - –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –∫–Ω–∏–≥–µ
python3 modify_epub_margins.py "/home/user/Downloads/Books/–ú–æ—è –∫–Ω–∏–≥–∞.epub"

# Linux - –≤—Å–µ –∫–Ω–∏–≥–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ
python3 modify_epub_margins.py /home/user/Downloads/Books/*.epub
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏:**
```bash
# –ú–∞–ª—ã–µ –æ—Ç—Å—Ç—É–ø—ã (-10px) –¥–ª—è –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤
python3 modify_epub_margins.py --margin 10 *.epub

# –ë–æ–ª—å—à–∏–µ –æ—Ç—Å—Ç—É–ø—ã (-30px) –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤
python3 modify_epub_margins.py --margin 30 "–í–æ–π–Ω–∞ –∏ –º–∏—Ä.epub"
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `-upgrade`:

```
–ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª:    –í–æ–π–Ω–∞ –∏ –º–∏—Ä.epub
–†–µ–∑—É–ª—å—Ç–∞—Ç:        –í–æ–π–Ω–∞ –∏ –º–∏—Ä-upgrade.epub
```

–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏.

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. **–†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç** EPUB —Ñ–∞–π–ª –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
2. **–ù–∞—Ö–æ–¥–∏—Ç** –æ—Å–Ω–æ–≤–Ω–æ–π CSS —Ñ–∞–π–ª (–æ–±—ã—á–Ω–æ `OPS/style.css` –∏–ª–∏ `OEBPS/style.css`)
3. **–î–æ–±–∞–≤–ª—è–µ—Ç** CSS –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø–æ–ª–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -20px):
   ```css
   html, body {
       margin-left: -20px !important;
       margin-right: -20px !important;
       padding: 0 !important;
   }
   ```
4. **–£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç** —Ñ–∞–π–ª—ã –æ–±—Ä–∞—Ç–Ω–æ –≤ –≤–∞–ª–∏–¥–Ω—ã–π EPUB
5. **–û—á–∏—â–∞–µ—Ç** –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã


### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã EPUB

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ CSS —Ñ–∞–π–ª–æ–≤:
- `OPS/style.css` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- `OEBPS/style.css` (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
- `styles/style.css` (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã)
- `css/style.css` (—Ä–µ–¥–∫–∏–µ —Å–ª—É—á–∞–∏)

–ï—Å–ª–∏ CSS —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π.

---

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —á—Ç–µ–Ω–∏–µ–º —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —ç–∫—Ä–∞–Ω–∞! üìö‚ú®**
